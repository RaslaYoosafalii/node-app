  

  <link rel="stylesheet" href="/styles/userlogin.css" />
  <div class="login-main">
    <div class="login-box">
      <h1 class="insta-logo">login</h1>
      <form action="/user/login" method="POST">
        <input type="text" id="message" value="{{{message}}}" name="message" hidden>
        <input type="text" id="email" name="email" placeholder="Phone number, username, or email" required />
        <input type="password" id="password" name="password" placeholder="Password" required />
        <button type="submit">Log In</button>

        <div class="separator">
          <div class="line"></div>
          <div class="or">OR</div>
          <div class="line"></div>
        </div>

        <a href="#" class="forgot-link">Forgot password?</a>
      </form>
    </div>

    <div class="signup-box">
      <p>Don't have an account? <a href="/user/register">Sign up</a></p>
    </div>
  </div>

<script>

document.addEventListener('DOMContentLoaded', function(){
  document.querySelector('form').addEventListener('submit', formValidate)
});

 const message = document.getElementById('message').value;
    if(message){
      console.log(message)
       alert(message)
    }


 function formValidate(e){//form validation
    e.preventDefault();
    var email = document.getElementById('email').value;
    var password = document.getElementById('password').value;

    if(email === "" || password === ""){
     alert('all fields are required!')
      return false; //prevent form submission
    }
    e.target.submit();
    return true;
  }

  window.addEventListener("pageshow", function (event) {
    if (event.persisted || performance.getEntriesByType("navigation")[0].type === "back_forward") {
      window.location.reload();
    }
  });

</script>
